

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Close an issue &mdash; esgissue 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="esgissue 0.1 documentation" href="index.html"/>
        <link rel="next" title="&lt;no title&gt;" href="retrieve.html"/>
        <link rel="prev" title="Update an issue" href="update.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> esgissue
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="synopsis.html">Synopsis</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="create.html">Create an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="update.html">Update an issue</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Close an issue</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mistakes-to-avoid">Mistakes to avoid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">esgissue</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Close an issue</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="sources/close.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="close-an-issue">
<span id="close"></span><h1>Close an issue<a class="headerlink" href="#close-an-issue" title="Permalink to this headline">¶</a></h1>
<p>At the end of an issue&#8217;s lifecycle, it should be marked as a closed issue in order to prevent confusion. To do so a specific <code class="docutils literal"><span class="pre">close</span></code> subcommand is made available in the ESGF errata client .</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Closing an issue on the ES-DOC Errata server requires the corresponding issue template and list of affected datasets.
In case of those files have been locally removed or compromised, users can easily retrieve fresh copies from the ES-DOC Errata server using the <span class="xref std std-ref">retrieve</span> subcommand.
Contrary to the <a class="reference internal" href="update.html#update"><span class="std std-ref">Update an issue</span></a> step, closing an issue doesn&#8217;t require to modify the local files.
Similar constraints and safeguards are applied to the issue JSON fields (see <a class="reference internal" href="update.html#update"><span class="std std-ref">Update an issue</span></a>)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">close</span></code> subcommand also modifies the issue files by adding the close date and changing the status to &#8220;wontfix&#8221; or &#8220;resolved&#8221; depending the user choice.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the issue status has already been updated to &#8220;wontfix&#8221; or &#8220;resolved&#8221; the <code class="docutils literal"><span class="pre">close</span></code> subcommand just close the issue on the ES-DOC Errata server.</p>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>The final step remaining in the life cycle of the issue is either to close the issue and mark it as done with, or flag it as a wontfix, that will however keep the issue
open for other users to be careful about the affected files in future use. To mark it as a &#8220;wontfix&#8221;, an update as shown above is sufficient.
To close an issue, users are required to use the client&#8217;s <code class="docutils literal"><span class="pre">close</span></code> command. Which will mark issue as closed in the remote ESGF Errata server and reflect this change in the local
files in coherence with every step in the issue life cycle.</p>
<p>From our previous issue (see <a class="reference internal" href="update.html#update"><span class="std std-ref">Update an issue</span></a>), the <a href="#id1"><span class="problematic" id="id2">``</span></a>close``subcommand has a similar structure to the creation and update:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$&gt; esgissue close --issue /path/to/issue.json --dsets /path/to/new_datasets.txt
 2016/09/06 06:27:53 PM INFO Validating of issue...
 2016/09/06 06:27:53 PM INFO Validation Result: SUCCESSFUL
 2016/09/06 06:27:53 PM INFO Closing issue <span class="c1">#66b1b471-221a-42ac-ad69-0a048e924cd4</span>
 2016/09/06 06:27:53 PM INFO Issue has been closed successfully!
</pre></div>
</div>
<p>On success the local issue file will be modified one last time by adding the close date accordingly:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;017597ba-d6ab-41c8-a1d2-e0aa3f0dd0c1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Test issue title&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a NEW test description, void of meaning.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;cmip5&quot;</span><span class="p">,</span>
    <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;critical&quot;</span><span class="p">,</span>
    <span class="nt">&quot;materials&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;http://errata.ipsl.upmc.fr/static/images_errata/time.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;http://errata.ipsl.upmc.fr/static/images_errata/time5.jpg&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://websitetest.com/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;resolved&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateClosed&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateClosed&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The issue is now closed and is kept for archiving/consultation purposes.</p>
</div>
<div class="section" id="mistakes-to-avoid">
<h2>Mistakes to avoid<a class="headerlink" href="#mistakes-to-avoid" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The previously explained safeguards for the issue creation are also valid in the update context, empty dataset
lists are rejected as well as malformed dataset ids. The issue json should always be conform to the templates otherwise
an exception will be thrown.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="retrieve.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="update.html" class="btn btn-neutral" title="Update an issue" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Atef BEN NASSER, Guillaume LEVAVASSEUR.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>