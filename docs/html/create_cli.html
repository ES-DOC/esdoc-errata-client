
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Create an issue (CLI) &#8212; esdoc-errata-client 2.0n documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Update an issue (CLI)" href="update_cli.html" />
    <link rel="prev" title="Generic usage" href="usage.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="create-an-issue-cli">
<span id="create-cli"></span><h1>Create an issue (CLI)<a class="headerlink" href="#create-an-issue-cli" title="Permalink to this headline">¶</a></h1>
<p>Publishing an issue on the Errata Service through the CLI, you must first edit an issue template.
The issue template is composed of:</p>
<ul class="simple">
<li>a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file including several attributes or fields that will interact with the validation process,</li>
<li>a <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file gathering the identifiers of the affected datasets.</li>
</ul>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Indeed requirements to create an issue (see <a class="reference internal" href="create.html#create"><span class="std std-ref">Create an issue</span></a>) are enforced by a JSON validation.
These JSON attributes/fields consist in:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Requirement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">uid</span></code></td>
<td>Not expected and generated by the server</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">title</span></code></td>
<td>Mandatory (between 16 and 255 characters)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">description</span></code></td>
<td>Mandatory (between 16 and 1023 characters)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">project</span></code></td>
<td>Mandatory and value-controlled</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">severity</span></code></td>
<td>Mandatory and value-controlled</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">status</span></code></td>
<td>Not expected and <em>new</em> generated by the client</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">landing_page</span></code></td>
<td>Optional</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">materials</span></code></td>
<td>Optional</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">dateCreated</span></code></td>
<td>Not expected and generated by the client</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">dateUpdated</span></code></td>
<td>Not expected and generated by the client</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">dateClosed</span></code></td>
<td>Not expected</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Safeguards requirements are:</p>
<ul class="last simple">
<li>The issue identifier is automatically generated on issue creation and is assigned to the issue throughout its life cycle.</li>
<li>Empty attributes are not allowed.</li>
<li>A precise and concise issue description that must make sense for end users (not just “wrong data”) is highly recommended.</li>
<li>The landing page is expected to be a valid URL (it is checked upon validation).</li>
<li>The materials are expected to be a list of valid URL of files (only image format are allowed, url also checked upon validation).</li>
<li>All optional URLs must be valid (i.e., accessible).</li>
<li>A status “new” will be generated by the server on the creation.</li>
<li>The creation date is also generated by the server.</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The accepted terms for issue severity are:</p>
<dl class="last docutils">
<dt>“low”</dt>
<dd>The issue concerns file management (e.g., addition, removal, period extension, etc.),</dd>
<dt>“medium”</dt>
<dd>The issue concerns metadata (NetCDF attributes) without undermining the values of the involved variable,</dd>
<dt>“high”</dt>
<dd>The issue concerns single point variable or axis values,</dd>
<dt>“critical”</dt>
<dd>The issue concerns the variable or axis values undermining the analysis. The use of this data is strongly discouraged.</dd>
</dl>
</div>
<p>You must then list all the affected dataset IDs in a <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file.
A dataset ID is a sequence of dot-separated facets that follows the <em>Data Reference Syntax</em> of the corresponding project.
The dataset identifiers has to append the dataset version number.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If one of the dataset ID is malformed or if the dataset list is empty, the command will raise an exception and exit,
users should correct the malformed dataset ID (which will be indicated in the error message).</p>
</div>
</div>
<div class="section" id="edit-the-issue">
<h2>Edit the issue<a class="headerlink" href="#edit-the-issue" title="Permalink to this headline">¶</a></h2>
<p>Here is concrete example of what an issue declaration through the ESGF issue client should look like.
On declaration of the issue this is the regular form of an issue:</p>
<p><code class="docutils literal notranslate"><span class="pre">issue.json</span></code>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Test issue title&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a test description, void of meaning.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;cmip6&quot;</span><span class="p">,</span>
    <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span>
    <span class="nt">&quot;materials&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;http://myerrata.com/images/before.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;http://myerrata.com/images/after.jpg&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://websitetest.com/&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">dataset.txt</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmip6.CMIP.IPSL.IPSL-CM6-1.historical.r1i1p1f1.3hr.clt.gr.v20170531
cmip6.CMIP.IPSL.IPSL-CM6-1.historical.r1i1p1f1.Amon.tas.gr.v20170531
[...]
</pre></div>
</div>
</div>
<div class="section" id="register-the-issue">
<h2>Register the issue<a class="headerlink" href="#register-the-issue" title="Permalink to this headline">¶</a></h2>
<p>After having successfully formatted the both files in the indicated fashion, create your issue using the <code class="docutils literal notranslate"><span class="pre">create</span></code> subcommand:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt; esgissue create --issue /path/to/issue.json --dsets /path/to/datasets.txt
</pre></div>
</div>
<p>On success the local issue file will be modified and the client returns you the URL of the newly registered issue on the Errata Service front-end.
The creation and update dates will be appended as well as the issue UID and status:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Test issue title&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a test description, void of meaning.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;cmip6&quot;</span><span class="p">,</span>
    <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span>
    <span class="nt">&quot;materials&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;http://errata.ipsl.upmc.fr/static/images_errata/time.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;http://errata.ipsl.upmc.fr/static/images_errata/time5.jpg&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://websitetest.com/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;new&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateClosed&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure the client has sufficient writing rights to the file. It updates local files.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">esdoc-errata-client</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="searchUI.html">Look up an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="lookup.html">Track a version</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Issue Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Log in to the Errata Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="create.html">Create an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="update.html">Update an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="close.html">Close an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="pid.html">PID tracker</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="client.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Application Programming Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="client.html">Command Line Interface</a><ul>
      <li>Previous: <a href="usage.html" title="previous chapter">Generic usage</a></li>
      <li>Next: <a href="update_cli.html" title="next chapter">Update an issue (CLI)</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Atef Ben Nasser.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/create_cli.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>