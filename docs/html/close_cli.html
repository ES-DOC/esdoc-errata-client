

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Close an issue (CLI) &mdash; ESGF Errata Service 1.1.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Retrieve an issue" href="retrieve_cli.html" />
    <link rel="prev" title="Update an issue (CLI)" href="update_cli.html" /> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ESGF Errata Service
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="searchUI.html">Look up an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="lookup.html">Track a version</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Issue Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Log in to the Errata Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="create.html">Create an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="update.html">Update an issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="close.html">Close an issue</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="client.html">Command Line Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html">Generic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_cli.html">Create an issue (CLI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_cli.html">Update an issue (CLI)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Close an issue (CLI)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#close-the-issue">Close the issue</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="retrieve_cli.html">Retrieve an issue</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Application Programming Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ESGF Errata Service</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="client.html">Command Line Interface</a> &raquo;</li>
        
      <li>Close an issue (CLI)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="sources/close_cli.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="close-an-issue-cli">
<span id="close-cli"></span><h1>Close an issue (CLI)<a class="headerlink" href="#close-an-issue-cli" title="Permalink to this headline">¶</a></h1>
<p>Contrary to the <a class="reference internal" href="update.html#update"><span class="std std-ref">update</span></a> step, closing an issue on the Errata Service through the CLI doesn’t require to modify the local files.
Nevertheless the local issue template will be updated accordingly at the end of the procedure. In case of those files have been locally removed or compromised, users can easily retrieve fresh copies from the ES-DOC Errata server using the <a class="reference internal" href="retrieve_cli.html#retrieve"><span class="std std-ref">retrieve</span></a> subcommand.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Similar constraints and safeguards are applied to the issue JSON fields (see <a class="reference internal" href="update.html#update"><span class="std std-ref">Update an issue</span></a>)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">close</span></code> subcommand also modifies the issue files by adding the close date and changing the status to “wontfix” or “resolved” depending the user choice:</p>
<dl class="last docutils">
<dt>“Resolved”</dt>
<dd>The issue has been resolved <strong>AND</strong> the corrected files have been published on ESGF with a new dataset version.</dd>
<dt>“Wontfix”</dt>
<dd><p class="first">The issue cannot/won’t be fixed by the data provider. This may occur in the following cases:</p>
<blockquote class="last">
<div><ul class="simple">
<li>the model should be re-run to correct the issue,</li>
<li>an “Low” severity issue without any consequences on the analyzes.</li>
</ul>
</div></blockquote>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the issue status has already been updated to “wontfix” or “resolved” the <code class="docutils literal notranslate"><span class="pre">close</span></code> subcommand just close the issue on the ES-DOC Errata server.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The previously explained safeguards for the issue creation are also valid in the update context, empty dataset
lists are rejected as well as malformed dataset ids. The issue <cite>.json</cite> file should always be conform to the templates otherwise
an exception will be thrown.</p>
</div>
</div>
<div class="section" id="close-the-issue">
<h2>Close the issue<a class="headerlink" href="#close-the-issue" title="Permalink to this headline">¶</a></h2>
<p>The final step remaining in the life cycle of the issue is either to close the issue and mark it as done with, or flag it as a “wontfix”, that will however keep the issue
open for other users to be careful about the affected files in future use. To mark it as a “wontfix”, an update as shown above is sufficient.
To close an issue, users are required to use the client’s <code class="docutils literal notranslate"><span class="pre">close</span></code> command. Which will mark issue as closed in the remote ES-DOC Errata server and reflect this change in the local
files in coherence with every step in the issue life cycle.</p>
<p>From our previous issue (see <a class="reference internal" href="update_cli.html#update-cli"><span class="std std-ref">Update an issue (CLI)</span></a>), the <code class="docutils literal notranslate"><span class="pre">close</span></code> subcommand has a similar structure to the creation and update:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$&gt; esgissue close --issue /path/to/issue.json --dsets /path/to/new_datasets.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The client will prompt you to choose between “Resoved” or “Wontfix” status. To avoid the prompt the desired status can be submitted on the command-line using the flag <code class="docutils literal notranslate"><span class="pre">--status</span> <span class="pre">{r,w}</span></code>.</p>
</div>
<p>On success the local issue file will be modified one last time by adding the close date accordingly:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Test issue title&quot;</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a NEW test description, void of meaning.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;cmip6&quot;</span><span class="p">,</span>
    <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;critical&quot;</span><span class="p">,</span>
    <span class="nt">&quot;materials&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;http://myerrata.com/images/before.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;http://myerrata.com/images/after.jpg&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://websitetest.com/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;resolved&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateClosed&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span><span class="p">,</span>
    <span class="nt">&quot;dateClosed&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DD HH:MM:SS&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The issue is now closed and is kept for archiving/consultation purposes.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="retrieve_cli.html" class="btn btn-neutral float-right" title="Retrieve an issue" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="update_cli.html" class="btn btn-neutral" title="Update an issue (CLI)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Atef BEN NASSER, Guillaume LEVAVASSEUR

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.1.2',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="static/jquery.js"></script>
        <script type="text/javascript" src="static/underscore.js"></script>
        <script type="text/javascript" src="static/doctools.js"></script>
    

  

  <script type="text/javascript" src="static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>